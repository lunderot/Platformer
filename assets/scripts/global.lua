local eventHandlers = {}

tiles = {
	"assets/textures/tiles/box.png",
	"assets/textures/tiles/boxAlt.png",
	"assets/textures/tiles/boxCoin.png",
	"assets/textures/tiles/boxCoinAlt.png",
	"assets/textures/tiles/boxCoinAlt_disabled.png",
	"assets/textures/tiles/boxCoin_disabled.png",
	"assets/textures/tiles/boxEmpty.png",
	"assets/textures/tiles/boxExplosive.png",
	"assets/textures/tiles/boxExplosiveAlt.png",
	"assets/textures/tiles/boxExplosive_disabled.png",
	"assets/textures/tiles/boxItem.png",
	"assets/textures/tiles/boxItemAlt.png",
	"assets/textures/tiles/boxItemAlt_disabled.png",
	"assets/textures/tiles/boxItem_disabled.png",
	"assets/textures/tiles/boxWarning.png",
	"assets/textures/tiles/brickWall.png",
	"assets/textures/tiles/bridge.png",
	"assets/textures/tiles/bridgeLogs.png",
	"assets/textures/tiles/castle.png",
	"assets/textures/tiles/castleCenter.png",
	"assets/textures/tiles/castleCenter_rounded.png",
	"assets/textures/tiles/castleCliffLeft.png",
	"assets/textures/tiles/castleCliffLeftAlt.png",
	"assets/textures/tiles/castleCliffRight.png",
	"assets/textures/tiles/castleCliffRightAlt.png",
	"assets/textures/tiles/castleHalf.png",
	"assets/textures/tiles/castleHalfLeft.png",
	"assets/textures/tiles/castleHalfMid.png",
	"assets/textures/tiles/castleHalfRight.png",
	"assets/textures/tiles/castleHillLeft.png",
	"assets/textures/tiles/castleHillLeft2.png",
	"assets/textures/tiles/castleHillRight.png",
	"assets/textures/tiles/castleHillRight2.png",
	"assets/textures/tiles/castleLedgeLeft.png",
	"assets/textures/tiles/castleLedgeRight.png",
	"assets/textures/tiles/castleLeft.png",
	"assets/textures/tiles/castleMid.png",
	"assets/textures/tiles/castleRight.png",
	"assets/textures/tiles/dirt.png",
	"assets/textures/tiles/dirtCenter.png",
	"assets/textures/tiles/dirtCenter_rounded.png",
	"assets/textures/tiles/dirtCliffLeft.png",
	"assets/textures/tiles/dirtCliffLeftAlt.png",
	"assets/textures/tiles/dirtCliffRight.png",
	"assets/textures/tiles/dirtCliffRightAlt.png",
	"assets/textures/tiles/dirtHalf.png",
	"assets/textures/tiles/dirtHalfLeft.png",
	"assets/textures/tiles/dirtHalfMid.png",
	"assets/textures/tiles/dirtHalfRight.png",
	"assets/textures/tiles/dirtHillLeft.png",
	"assets/textures/tiles/dirtHillLeft2.png",
	"assets/textures/tiles/dirtHillRight.png",
	"assets/textures/tiles/dirtHillRight2.png",
	"assets/textures/tiles/dirtLedgeLeft.png",
	"assets/textures/tiles/dirtLedgeRight.png",
	"assets/textures/tiles/dirtLeft.png",
	"assets/textures/tiles/dirtMid.png",
	"assets/textures/tiles/dirtRight.png",
	"assets/textures/tiles/door_closedMid.png",
	"assets/textures/tiles/door_closedTop.png",
	"assets/textures/tiles/door_openMid.png",
	"assets/textures/tiles/door_openTop.png",
	"assets/textures/tiles/fence.png",
	"assets/textures/tiles/fenceBroken.png",
	"assets/textures/tiles/grass.png",
	"assets/textures/tiles/grassCenter.png",
	"assets/textures/tiles/grassCenter_rounded.png",
	"assets/textures/tiles/grassCliffLeft.png",
	"assets/textures/tiles/grassCliffLeftAlt.png",
	"assets/textures/tiles/grassCliffRight.png",
	"assets/textures/tiles/grassCliffRightAlt.png",
	"assets/textures/tiles/grassHalf.png",
	"assets/textures/tiles/grassHalfLeft.png",
	"assets/textures/tiles/grassHalfMid.png",
	"assets/textures/tiles/grassHalfRight.png",
	"assets/textures/tiles/grassHillLeft.png",
	"assets/textures/tiles/grassHillLeft2.png",
	"assets/textures/tiles/grassHillRight.png",
	"assets/textures/tiles/grassHillRight2.png",
	"assets/textures/tiles/grassLedgeLeft.png",
	"assets/textures/tiles/grassLedgeRight.png",
	"assets/textures/tiles/grassLeft.png",
	"assets/textures/tiles/grassMid.png",
	"assets/textures/tiles/grassRight.png",
	"assets/textures/tiles/hill_large.png",
	"assets/textures/tiles/hill_largeAlt.png",
	"assets/textures/tiles/hill_small.png",
	"assets/textures/tiles/hill_smallAlt.png",
	"assets/textures/tiles/ladder_mid.png",
	"assets/textures/tiles/ladder_top.png",
	"assets/textures/tiles/liquidLava.png",
	"assets/textures/tiles/liquidLavaTop.png",
	"assets/textures/tiles/liquidLavaTop_mid.png",
	"assets/textures/tiles/liquidWater.png",
	"assets/textures/tiles/liquidWaterTop.png",
	"assets/textures/tiles/liquidWaterTop_mid.png",
	"assets/textures/tiles/lock_blue.png",
	"assets/textures/tiles/lock_green.png",
	"assets/textures/tiles/lock_red.png",
	"assets/textures/tiles/lock_yellow.png",
	"assets/textures/tiles/rockHillLeft.png",
	"assets/textures/tiles/rockHillRight.png",
	"assets/textures/tiles/ropeAttached.png",
	"assets/textures/tiles/ropeHorizontal.png",
	"assets/textures/tiles/ropeVertical.png",
	"assets/textures/tiles/sand.png",
	"assets/textures/tiles/sandCenter.png",
	"assets/textures/tiles/sandCenter_rounded.png",
	"assets/textures/tiles/sandCliffLeft.png",
	"assets/textures/tiles/sandCliffLeftAlt.png",
	"assets/textures/tiles/sandCliffRight.png",
	"assets/textures/tiles/sandCliffRightAlt.png",
	"assets/textures/tiles/sandHalf.png",
	"assets/textures/tiles/sandHalfLeft.png",
	"assets/textures/tiles/sandHalfMid.png",
	"assets/textures/tiles/sandHalfRight.png",
	"assets/textures/tiles/sandHillLeft.png",
	"assets/textures/tiles/sandHillLeft2.png",
	"assets/textures/tiles/sandHillRight.png",
	"assets/textures/tiles/sandHillRight2.png",
	"assets/textures/tiles/sandLedgeLeft.png",
	"assets/textures/tiles/sandLedgeRight.png",
	"assets/textures/tiles/sandLeft.png",
	"assets/textures/tiles/sandMid.png",
	"assets/textures/tiles/sandRight.png",
	"assets/textures/tiles/sign.png",
	"assets/textures/tiles/signExit.png",
	"assets/textures/tiles/signLeft.png",
	"assets/textures/tiles/signRight.png",
	"assets/textures/tiles/snow.png",
	"assets/textures/tiles/snowCenter.png",
	"assets/textures/tiles/snowCenter_rounded.png",
	"assets/textures/tiles/snowCliffLeft.png",
	"assets/textures/tiles/snowCliffLeftAlt.png",
	"assets/textures/tiles/snowCliffRight.png",
	"assets/textures/tiles/snowCliffRightAlt.png",
	"assets/textures/tiles/snowHalf.png",
	"assets/textures/tiles/snowHalfLeft.png",
	"assets/textures/tiles/snowHalfMid.png",
	"assets/textures/tiles/snowHalfRight.png",
	"assets/textures/tiles/snowHillLeft.png",
	"assets/textures/tiles/snowHillLeft2.png",
	"assets/textures/tiles/snowHillRight.png",
	"assets/textures/tiles/snowHillRight2.png",
	"assets/textures/tiles/snowLedgeLeft.png",
	"assets/textures/tiles/snowLedgeRight.png",
	"assets/textures/tiles/snowLeft.png",
	"assets/textures/tiles/snowMid.png",
	"assets/textures/tiles/snowRight.png",
	"assets/textures/tiles/stone.png",
	"assets/textures/tiles/stoneCenter.png",
	"assets/textures/tiles/stoneCenter_rounded.png",
	"assets/textures/tiles/stoneCliffLeft.png",
	"assets/textures/tiles/stoneCliffLeftAlt.png",
	"assets/textures/tiles/stoneCliffRight.png",
	"assets/textures/tiles/stoneCliffRightAlt.png",
	"assets/textures/tiles/stoneHalf.png",
	"assets/textures/tiles/stoneHalfLeft.png",
	"assets/textures/tiles/stoneHalfMid.png",
	"assets/textures/tiles/stoneHalfRight.png",
	"assets/textures/tiles/stoneHillLeft2.png",
	"assets/textures/tiles/stoneHillRight2.png",
	"assets/textures/tiles/stoneLedgeLeft.png",
	"assets/textures/tiles/stoneLedgeRight.png",
	"assets/textures/tiles/stoneLeft.png",
	"assets/textures/tiles/stoneMid.png",
	"assets/textures/tiles/stoneRight.png",
	"assets/textures/tiles/stoneWall.png",
	"assets/textures/tiles/tochLit.png",
	"assets/textures/tiles/tochLit2.png",
	"assets/textures/tiles/torch.png",
	"assets/textures/tiles/window.png"
}


function addEventHandler(id, triggerFunction)
	if not eventHandlers[id] then
		eventHandlers[id] = {}
	end
	eventHandlers[id][#eventHandlers[id]+1] = triggerFunction
end

function triggerEvent(id, ...)
	local listeners = eventHandlers[id]
	if listeners ~= nil then
		for i=1, #listeners do
			listeners[i](...)
		end
	end
end

function errorHandler(message)
	return message .. "\n" .. debug.traceback()
end


